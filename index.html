<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test Page</title>
    <link rel="stylesheet" href="/css/index.css">
    <!-- <link rel="stylesheet" href="http://localhost:9000/css/refresh.css"> -->
    <link rel="stylesheet" href="/css/refresh.css">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<!--
<link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;1,500&display=swap" rel="stylesheet">-->
<link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@600&family=Lato&display=swap" rel="stylesheet">

<script type="text/javascript" src="/js/render.js"></script>
<script type="text/javascript" src="/js/loader.js"></script>

</head>
<body class="bg-dark">
<div class="container bg-dark">
    <div class="title-bar flex"><img src="/img/cow_icon.png"/>
        <div class="flow" >
            <h1>Moojestic </h1>
            <p id="date"> </p>
            <p id="error"></p>
        </div>
    </div>
    <div class="margin-in">
        <div id="puzzle" class="grid"></div>
    </div>

    <div>
    </div>
</div>


<script type="text/javascript">

function setErrorMsg(msg) {
    document.getElementById("error").innerText = msg;
}

function onLoadFail(n) {
  setErrorMsg("Failed to load Puzzle #" + n); 
}    

console.log(window.location.search);
var todaysPuzzle = todaysPuzzleIndex();
if (window.location.search.startsWith("?puzzle=")) {
    var requestedPuzzle = window.location.search.substring(8);
    if (requestedPuzzle <= todaysPuzzle) {
        loadPuzzleNumber(requestedPuzzle, onLoadFail);
    }
    else {
        setErrorMsg("Puzzle #" + requestedPuzzle + " is not ready yet. Come back later!");
    }
}
else {
    loadPuzzleNumber(todaysPuzzle, onLoadFail);
}

</script>

<!--------- Dev Refresh Script  ------------->
<p id="refresh"/>
<script type="text/javascript" src="/js/dev_refresh.js"></script>
</body>

</htmnl> 