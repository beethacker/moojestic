<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Design System</title>
    <link rel="stylesheet" href="http://localhost:9000/index.css">
</head>
<body class="bg-dark ">
  
<p id="refresh" class="text-correct"></p>
<div class = "container">
    <h1> Design System </h1>
    <section id="colors">
    <div class="text-dark bg-shuffled">
        Hello
    </div>
    <div class="text-dark bg-correct">
        World
    </div>
    <div class="text-dark bg-correct example-transparent">
        World
    </div>
    <div class="text-title bg-dark">
        World
    </div>
    </section>

</div>

<!--------- Dev Refresh Script  ------------->
<!-- TODO move this to its own little file -->
<script type="text/javascript">
    var token = 0;
    function checkRefresh() {
        fetch("http://localhost:9000/refresh.txt").then(function(response) {
            return response.text();
        }).then(function(html) {
            document.getElementById("refresh").innerText = html;            
            if (token != html && token != 0) {
                document.location.reload();
            }
            token = html;
        }).catch(function(err) {
            console.warn("Can't fetch refresh token!", err);
        });

        window.setTimeout(checkRefresh, 1000);
    }
    checkRefresh();
</script>
<!--------- Dev Refresh Script  ------------->

</body>
</htmnl> 